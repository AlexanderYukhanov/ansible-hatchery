- name: Prepare random number
  set_fact:
    random_postfix: "{{ 1000 | random }}"
  run_once: yes

- name: Create instance of ApplicationGateways -- check mode
  azure_rm_applicationgatewayapplicationgateway:
    resource_group: "{{ resource_group }}"
    ssl_policy:
      disabled_ssl_protocols:
        - XXXX - list of values -- not implemented str
      cipher_suites:
        - XXXX - list of values -- not implemented str
    gateway_ip_configurations:
    authentication_certificates:
    ssl_certificates:
    frontend_ip_configurations:
    frontend_ports:
    probes:
      - match:
          status_codes:
            - XXXX - list of values -- not implemented str
    backend_address_pools:
      - backend_ip_configurations:
          - application_gateway_backend_address_pools:
              - backend_ip_configurations:
                  - application_gateway_backend_address_pools:
                    load_balancer_backend_address_pools:
                    load_balancer_inbound_nat_rules:
                    application_security_groups:
                backend_addresses:
            load_balancer_backend_address_pools:
            load_balancer_inbound_nat_rules:
            subnet:
              network_security_group:
                security_rules:
                default_security_rules:
              route_table:
                routes:
              service_endpoints:
                - locations:
                    - XXXX - list of values -- not implemented str
              resource_navigation_links:
            public_ip_address:
              zones:
                - XXXX - list of values -- not implemented str
            application_security_groups:
        backend_addresses:
    backend_http_settings_collection:
      - authentication_certificates:
    http_listeners:
    url_path_maps:
      - path_rules:
          - paths:
              - XXXX - list of values -- not implemented str
    request_routing_rules:
    redirect_configurations:
      - request_routing_rules:
        url_path_maps:
        path_rules:
    web_application_firewall_configuration:
      disabled_rule_groups:
        - rules:
            - XXXX - list of values -- not implemented int
  check_mode: yes
  register: output
- name: Assert the resource instance is well created
  assert:
    that:
      - output.changed

- name: Create instance of ApplicationGateways
  azure_rm_applicationgatewayapplicationgateway:
    resource_group: "{{ resource_group }}"
    ssl_policy:
      disabled_ssl_protocols:
        - XXXX - list of values -- not implemented str
      cipher_suites:
        - XXXX - list of values -- not implemented str
    gateway_ip_configurations:
    authentication_certificates:
    ssl_certificates:
    frontend_ip_configurations:
    frontend_ports:
    probes:
      - match:
          status_codes:
            - XXXX - list of values -- not implemented str
    backend_address_pools:
      - backend_ip_configurations:
          - application_gateway_backend_address_pools:
              - backend_ip_configurations:
                  - application_gateway_backend_address_pools:
                    load_balancer_backend_address_pools:
                    load_balancer_inbound_nat_rules:
                    application_security_groups:
                backend_addresses:
            load_balancer_backend_address_pools:
            load_balancer_inbound_nat_rules:
            subnet:
              network_security_group:
                security_rules:
                default_security_rules:
              route_table:
                routes:
              service_endpoints:
                - locations:
                    - XXXX - list of values -- not implemented str
              resource_navigation_links:
            public_ip_address:
              zones:
                - XXXX - list of values -- not implemented str
            application_security_groups:
        backend_addresses:
    backend_http_settings_collection:
      - authentication_certificates:
    http_listeners:
    url_path_maps:
      - path_rules:
          - paths:
              - XXXX - list of values -- not implemented str
    request_routing_rules:
    redirect_configurations:
      - request_routing_rules:
        url_path_maps:
        path_rules:
    web_application_firewall_configuration:
      disabled_rule_groups:
        - rules:
            - XXXX - list of values -- not implemented int
  register: output
- name: Assert the resource instance is well created
  assert:
    that:
      - output.changed
      - output.state == 'Ready'

- name: Create again instance of ApplicationGateways
  azure_rm_applicationgatewayapplicationgateway:
    resource_group: "{{ resource_group }}"
    ssl_policy:
      disabled_ssl_protocols:
        - XXXX - list of values -- not implemented str
      cipher_suites:
        - XXXX - list of values -- not implemented str
    gateway_ip_configurations:
    authentication_certificates:
    ssl_certificates:
    frontend_ip_configurations:
    frontend_ports:
    probes:
      - match:
          status_codes:
            - XXXX - list of values -- not implemented str
    backend_address_pools:
      - backend_ip_configurations:
          - application_gateway_backend_address_pools:
              - backend_ip_configurations:
                  - application_gateway_backend_address_pools:
                    load_balancer_backend_address_pools:
                    load_balancer_inbound_nat_rules:
                    application_security_groups:
                backend_addresses:
            load_balancer_backend_address_pools:
            load_balancer_inbound_nat_rules:
            subnet:
              network_security_group:
                security_rules:
                default_security_rules:
              route_table:
                routes:
              service_endpoints:
                - locations:
                    - XXXX - list of values -- not implemented str
              resource_navigation_links:
            public_ip_address:
              zones:
                - XXXX - list of values -- not implemented str
            application_security_groups:
        backend_addresses:
    backend_http_settings_collection:
      - authentication_certificates:
    http_listeners:
    url_path_maps:
      - path_rules:
          - paths:
              - XXXX - list of values -- not implemented str
    request_routing_rules:
    redirect_configurations:
      - request_routing_rules:
        url_path_maps:
        path_rules:
    web_application_firewall_configuration:
      disabled_rule_groups:
        - rules:
            - XXXX - list of values -- not implemented int
  register: output
- name: Assert the state has not changed
  assert:
    that:
      - output.changed == false
      - output.state == 'Ready'

- name: Delete instance of ApplicationGateways -- check mode
  azure_rm_applicationgatewayapplicationgateway:
    resource_group: "{{ resource_group }}"
    state: absent
  check_mode: yes
  register: output
- name: Assert the state has changed
  assert:
    that:
      - output.changed

- name: Delete instance of ApplicationGateways
  azure_rm_applicationgatewayapplicationgateway:
    resource_group: "{{ resource_group }}"
    state: absent
  register: output
- name: Assert the state has changed
  assert:
    that:
      - output.changed

- name: Delete unexisting instance of ApplicationGateways
  azure_rm_applicationgatewayapplicationgateway:
    resource_group: "{{ resource_group }}"
    state: absent
  register: output
- name: Assert the state has changed
  assert:
    that:
      - output.changed == false
